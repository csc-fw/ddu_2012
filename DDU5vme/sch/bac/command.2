V 51
K 118209874400 fpga
Y 0
D 0 0 1700 1100
Z 1
i 1427
N 1426
J 1065 355 2
J 1020 355 1
S 2 1
L 1025 355 10 0 3 0 1 0 VME_SEN_RST
N 1425
J 1065 385 2
J 1035 385 1
S 2 1
L 1045 385 10 0 3 0 1 0 MIDCLK
N 1131
J 210 440 2
J 295 440 9
J 295 460 11
J 210 460 2
J 295 480 11
J 210 680 2
J 295 700 11
J 295 680 11
J 210 580 2
J 210 600 2
J 210 620 2
J 210 640 2
J 210 660 2
J 210 700 2
J 370 710 7
J 295 710 9
J 295 660 11
J 295 640 11
J 295 620 11
J 295 600 11
J 295 580 11
J 210 560 2
J 295 560 11
J 210 540 2
J 295 540 11
J 210 520 2
J 295 520 11
J 210 480 2
J 210 500 2
J 295 500 11
S 1 2
L 230 440 10 0 3 0 1 0 DEVICE13
B 30 27
B 3 5
S 4 3
L 230 460 10 0 3 0 1 0 DEVICE12
S 9 21
L 230 580 10 0 3 0 1 0 DEVICE6
S 10 20
L 230 600 10 0 3 0 1 0 DEVICE5
S 11 19
L 230 620 10 0 3 0 1 0 DEVICE4
S 12 18
L 230 640 10 0 3 0 1 0 DEVICE3
S 13 17
L 230 660 10 0 3 0 1 0 DEVICE2
B 17 8
B 18 17
B 19 18
B 20 19
B 21 20
B 23 21
S 22 23
L 230 560 10 0 3 0 1 0 DEVICE7
B 25 23
S 24 25
L 230 540 10 0 3 0 1 0 DEVICE8
S 26 27
L 230 520 10 0 3 0 1 0 DEVICE9
S 28 5
L 230 480 10 0 3 0 1 0 DEVICE11
S 29 30
L 230 500 10 0 3 0 1 0 DEVICE10
S 14 7
L 230 700 10 0 3 0 1 0 DEVICE0
B 7 16
S 6 8
L 230 680 10 0 3 0 1 0 DEVICE1
B 8 7
B 16 15
L 280 715 18 0 3 0 1 0 DEVICE[13:0]
B 2 3
B 5 30
B 27 25
N 1411
J 900 545 2
J 940 545 2
S 1 2
L 885 545 10 0 3 0 1 0 DTACK_RCVD
N 1407
J 1050 465 2
J 1020 465 1
S 2 1
L 1030 465 10 0 3 0 1 0 RST
N 1399
J 800 555 1
J 820 555 2
S 1 2
L 810 555 10 0 3 0 1 1 DS0
N 1400
J 820 535 2
J 800 535 1
S 2 1
L 810 535 10 0 3 0 1 1 DS1
N 1397
J 1175 300 2
J 1145 300 1
S 2 1
L 1155 300 10 0 3 0 1 0 RST
N 1384
J 470 605 2
J 520 605 2
S 1 2
L 475 605 10 0 3 0 1 0 VME16_VALID
N 1376
J 360 595 1
J 390 595 2
S 1 2
L 370 595 10 0 3 0 1 1 DS1
N 1377
J 390 615 2
J 360 615 1
S 2 1
L 370 615 10 0 3 0 1 1 DS0
N 1386
J 470 585 1
J 520 585 2
S 1 2
L 475 585 10 0 3 0 1 0 BOARD_ACC
I 1374 virtex:FDC 1 1370 65 0 1 '
C 1352 2 4 0
C 1357 2 1 0
C 1373 2 6 0
C 1355 2 3 0
N 1238
J 1490 365 2
J 1490 360 3
J 1495 360 2
S 2 3
S 2 1
N 1309
J 1215 350 2
J 1165 350 1
S 2 1
L 1170 350 10 0 3 0 1 0 BOARD_ACC
N 1305
J 1215 330 2
J 1165 330 1
S 2 1
L 1170 330 10 0 3 0 1 0 SAME_ADR
N 1307
J 1295 340 2
J 1310 340 2
S 1 2
L 1280 340 10 0 3 0 1 0 VME_DCE-1
N 1230
J 1495 320 2
J 1465 320 1
S 2 1
L 1475 320 10 0 3 0 1 0 MIDCLK
N 1253
J 1255 270 2
J 1310 270 2
S 1 2
L 1240 270 10 0 3 0 1 0 CLR_VME_DATA_CE
N 1286
J 600 565 1
J 630 565 2
S 1 2
L 610 565 10 0 3 0 1 0 MIDCLK
N 1269
J 600 535 1
J 630 535 2
S 1 2
L 610 535 10 0 3 0 1 0 RST
N 1362
J 1130 115 2
J 1080 115 1
S 2 1
L 1090 115 10 0 3 0 1 0 ADRS18
N 1363
J 1080 135 1
J 1130 135 2
S 1 2
L 1090 135 10 0 3 0 1 0 ADRS17
N 1364
J 1130 155 2
J 1080 155 1
S 2 1
L 1090 155 10 0 3 0 1 0 ADRS16
N 1359
J 1250 155 2
J 1200 155 1
S 2 1
L 1210 155 10 0 3 0 1 0 BOARD_ACC
N 1355
J 1340 105 1
J 1370 105 2
S 1 2
L 1350 105 10 0 3 0 1 0 MIDCLK
N 1370
J 1655 135 1
J 1610 135 2
S 2 1
L 1600 135 10 0 3 0 1 0 VME_ENB
N 1352
J 1530 145 2
J 1490 145 2
S 2 1
L 1490 145 10 0 3 0 1 0 VME_PEN
N 1368
J 1530 125 2
J 1485 125 1
S 2 1
L 1490 125 10 0 3 0 1 0 VME_SEN
N 1202
J 710 480 2
J 660 480 1
S 2 1
L 665 480 10 0 3 0 1 0 BOARDENB
N 1201
J 660 500 1
J 710 500 2
S 1 2
L 665 500 10 0 3 0 1 0 VALIDAM
N 1200
J 710 520 2
J 660 520 1
S 2 1
L 665 520 10 0 3 0 1 0 SYSOK
N 1345
J 35 660 1
J 90 660 2
S 1 2
L 45 660 10 0 3 0 1 0 ADRS14
N 1346
J 90 680 2
J 35 680 1
S 2 1
L 45 680 10 0 3 0 1 0 ADRS13
N 1340
J 1420 225 2
J 1400 225 1
S 2 1
L 1410 225 10 0 3 0 1 0 RST
N 1338
J 1400 245 1
J 1420 245 2
S 1 2
L 1410 245 10 0 3 0 1 1 DS1
N 1339
J 1420 265 2
J 1400 265 1
S 2 1
L 1410 265 10 0 3 0 1 1 DS0
N 1316
J 1360 545 1
J 1305 545 2
S 2 1
L 1305 545 10 0 3 0 1 0 LTOVME
N 1313
J 1155 505 1
J 1185 505 2
S 1 2
L 1165 505 10 0 3 0 1 0 MIDCLK
N 1270
J 1100 595 2
J 1070 595 1
S 2 1
L 1080 595 10 0 3 0 1 0 MIDCLK
N 1268
J 1100 565 2
J 1070 565 1
S 2 1
L 1080 565 10 0 3 0 1 0 RST
N 1289
J 905 635 2
J 955 635 2
S 1 2
L 910 635 10 0 3 0 1 0 SAME_ADR
N 1157
J 1365 680 2
J 1310 680 1
S 2 1
L 1320 680 10 0 3 0 1 0 ADRS14
N 1158
J 1310 700 1
J 1365 700 2
S 1 2
L 1320 700 10 0 3 0 1 0 ADRS13
I 111 PAGE 1 0 0 0 1 '
N 1165
J 1530 460 11
J 1530 520 11
J 1530 540 11
J 1530 560 11
J 1530 580 11
J 1530 600 11
J 1530 620 11
J 1530 640 11
J 1530 660 11
J 1530 700 11
J 1530 680 11
J 1530 720 11
J 1530 500 11
J 1530 480 11
J 1530 440 11
J 1530 770 9
J 1415 770 7
J 1485 420 2
J 1530 420 9
J 1485 440 2
J 1485 480 2
J 1485 500 2
J 1485 720 2
J 1485 680 2
J 1485 700 2
J 1485 660 2
J 1485 640 2
J 1485 620 2
J 1485 600 2
J 1485 580 2
J 1485 560 2
J 1485 540 2
J 1485 520 2
J 1485 460 2
B 15 1
B 13 2
B 2 3
B 3 4
B 4 5
B 5 6
B 6 7
B 7 8
B 8 9
B 11 10
B 10 12
B 14 13
B 1 14
S 18 19
L 1475 420 10 0 3 0 1 0 VMEDEV15
S 20 15
L 1475 440 10 0 3 0 1 0 VMEDEV14
S 21 14
L 1475 480 10 0 3 0 1 0 VMEDEV12
S 22 13
L 1475 500 10 0 3 0 1 0 VMEDEV11
S 23 12
L 1475 720 10 0 3 0 1 0 VMEDEV0
S 24 11
L 1475 680 10 0 3 0 1 0 VMEDEV2
S 25 10
L 1475 700 10 0 3 0 1 0 VMEDEV1
S 26 9
L 1475 660 10 0 3 0 1 0 VMEDEV3
S 27 8
L 1475 640 10 0 3 0 1 0 VMEDEV4
S 28 7
L 1475 620 10 0 3 0 1 0 VMEDEV5
S 29 6
L 1475 600 10 0 3 0 1 0 VMEDEV6
S 30 5
L 1475 580 10 0 3 0 1 0 VMEDEV7
S 31 4
L 1475 560 10 0 3 0 1 0 VMEDEV8
S 32 3
L 1475 540 10 0 3 0 1 0 VMEDEV9
S 33 2
L 1475 520 10 0 3 0 1 0 VMEDEV10
S 34 1
L 1475 460 10 0 3 0 1 0 VMEDEV13
B 19 15
B 12 16
B 9 11
B 17 16
L 1415 775 18 0 3 0 1 0 VMEDEV[15:0]
N 1314
J 1140 525 1
J 1185 525 2
S 1 2
L 1145 525 10 0 3 0 1 0 VME16_VALID
N 1073
J 195 1045 2
J 240 1045 2
S 1 2
L 195 1045 10 0 3 0 1 0 ADRSHIGH
I 1348 virtex2p:INV 1 240 1035 0 1 '
C 1349 2 1 0
C 1073 2 2 0
I 1069 virtex:OR3 1 115 1005 0 1 '
C 1073 1 5 0
C 1070 2 3 0
C 1071 1 4 0
C 1072 2 2 0
N 1349
J 365 1045 1
J 310 1045 2
S 2 1
L 310 1045 10 0 3 0 1 1 ADRSHIGH
N 1260
J 915 405 2
J 870 405 1
S 2 1
L 875 405 10 0 3 0 1 0 VME16_VALID
N 1189
J 915 385 2
J 885 385 1
S 2 1
L 895 385 10 0 3 0 1 0 MIDCLK
N 1186
J 660 420 1
J 710 420 2
S 1 2
L 670 420 10 0 3 0 1 0 ADRS16
N 1185
J 710 440 2
J 660 440 1
S 2 1
L 670 440 10 0 3 0 1 0 ADRS17
N 1184
J 660 460 1
J 710 460 2
S 1 2
L 670 460 10 0 3 0 1 0 ADRS18
I 1155 virtex2p:D4_16E 1 1365 380 0 1 '
C 1165 23 24 0
C 1165 25 25 0
C 1165 24 26 0
C 1165 26 27 0
C 1165 27 28 0
C 1165 28 29 0
C 1165 29 30 0
C 1165 30 31 0
C 1165 31 32 0
C 1165 32 33 0
C 1165 33 34 0
C 1165 22 35 0
C 1165 21 36 0
C 1165 34 37 0
C 1165 20 38 0
C 1165 18 39 0
C 1156 2 40 0
C 1157 1 41 0
C 1158 2 42 0
C 1159 1 43 0
C 1371 2 1 0
N 1341
J 1585 245 1
J 1500 245 2
S 2 1
L 1485 245 10 0 3 0 1 0 CLR_LVME_DATA_CE
I 1343 virtex2p:D4_16E 1 90 360 0 1 '
C 1350 2 1 0
C 1131 26 33 0
C 1131 24 32 0
C 1131 22 31 0
C 1131 9 30 0
C 1131 10 29 0
C 1131 11 28 0
C 1131 12 27 0
C 1131 13 26 0
X 39 0
X 38 0
C 1131 1 37 0
C 1131 4 36 0
C 1131 28 35 0
C 1131 29 34 0
C 1131 6 25 0
C 1131 14 24 0
C 1344 1 40 0
C 1345 2 41 0
C 1346 1 42 0
C 1347 2 43 0
N 1281
J 750 605 8
J 785 605 8
B 1 2
L 740 610 10 0 3 0 1 0 SADR[23:2]
N 1235
J 1430 340 2
J 1495 340 2
S 1 2
L 1420 340 10 0 3 0 1 0 VME_SDATA_CE
N 1231
J 1615 360 2
J 1680 360 1
S 1 2
L 1600 360 10 0 3 0 1 0 LVME_SDATA_CE
N 1252
J 1495 290 2
J 1425 290 1
S 2 1
L 1430 290 10 0 3 0 1 0 CLR_LVME_DATA_CE
N 1373
J 1300 75 1
J 1370 75 2
S 1 2
L 1305 75 10 0 3 0 1 0 CLR_LVME_DATA_CE
N 1278
J 630 605 8
J 585 605 7
B 2 1
L 590 610 10 0 3 0 1 0 ADRS[23:2]
N 1388
J 1100 615 2
J 1070 615 1
S 2 1
L 1075 615 10 0 3 0 1 0 SADR_EN
N 1387
J 600 585 2
J 630 585 2
S 1 2
L 590 585 10 0 3 0 1 0 SADR_EN
N 1371
J 1350 420 2
J 1365 420 2
S 1 2
I 1391 virtex2p:VCC 1 1350 400 1 1 '
C 1371 1 2 0
N 1390
J 1345 440 1
J 1300 440 1
S 2 1
L 1305 440 10 0 3 0 1 0 VME_ENB
I 1351 virtex2p:AND3B1 1 1130 95 0 1 '
C 1365 2 7 0
C 1364 1 1 0
C 1363 2 2 0
C 1362 1 3 0
N 1361
J 1270 100 1
J 1220 100 1
S 2 1
L 1225 100 10 0 3 0 1 0 SAME_ADR
N 1280
J 730 665 7
J 785 665 8
B 1 2
L 735 670 10 0 3 0 1 0 ADRS[23:2]
N 1287
J 1220 635 2
J 1305 635 1
S 1 2
L 1205 635 10 0 3 0 1 0 VME_SADR_CHANGED
I 1378 virtex2p:NOR2 1 390 575 0 1 '
C 1384 1 10 0
C 1377 1 9 0
C 1376 2 7 0
I 1380 virtex2p:AND3 1 520 545 0 1 '
C 1385 2 3 0
C 1386 2 2 0
C 1384 2 1 0
C 1387 1 7 0
I 1274 FD22CE 1 630 525 0 1 '
C 1281 1 4 0
C 1278 1 1 0
C 1387 2 7 0
C 1269 2 8 0
C 1286 2 3 0
I 1277 COMP22 1 785 565 0 1 '
C 1281 2 22 0
C 1280 2 19 0
C 1289 1 13 0
I 1394 virtex:INV 1 955 625 0 1 '
C 1288 1 1 0
C 1289 2 2 0
I 1272 virtex2p:FDCE 1 1100 555 0 1 '
C 1287 1 4 0
C 1288 2 1 0
C 1268 1 6 0
C 1388 1 2 0
C 1270 1 3 0
N 1288
J 1025 635 2
J 1100 635 2
S 1 2
L 1020 635 10 0 3 0 1 0 VME_SADR_CHANGE
I 1337 virtex2p:OR3 1 1420 205 0 1 '
C 1341 2 5 0
C 1339 1 3 0
C 1338 2 4 0
C 1340 1 2 0
I 1244 virtex2p:OR4 1 1175 220 0 1 '
C 1253 1 8 0
C 1397 1 1 0
C 1243 1 6 0
C 1242 2 7 0
C 1396 2 5 0
I 1395 virtex:AND4B1 1 1215 290 0 1 '
C 1307 1 6 0
C 1209 3 1 0
C 1309 1 3 0
C 1305 1 4 0
C 1393 1 5 0
I 1228 virtex2p:FDCE 1 1495 280 0 1 '
C 1230 1 3 0
C 1235 2 2 0
C 1252 1 6 0
C 1238 3 1 0
C 1231 1 4 0
I 1236 virtex2p:VCC 1 1470 365 0 1 '
C 1238 1 2 0
N 1393
J 1215 310 2
J 1130 310 1
S 2 1
L 1135 310 10 0 3 0 1 0 VME_SADR_CHANGED
N 1243
J 1175 280 2
J 1145 280 1
S 2 1
L 1155 280 10 0 3 0 1 1 DS0
N 1242
J 1145 260 1
J 1175 260 2
S 1 2
L 1155 260 10 0 3 0 1 1 DS1
N 1396
J 1110 240 1
J 1175 240 2
S 1 2
L 1120 240 10 0 3 0 1 0 LVME_SDATA_CE
I 1367 virtex2p:OR2 1 1530 105 0 1 '
C 1368 1 7 0
C 1352 1 9 0
C 1370 2 10 0
I 1392 virtex:AND2 1 1250 115 0 1 '
C 1357 1 20 0
C 1359 1 18 0
C 1365 1 19 0
N 1408
J 1140 545 1
J 1185 545 2
S 1 2
L 1150 545 10 0 3 0 1 0 TOVME
I 1311 virtex2p:FDCE 1 1185 465 0 1 '
C 1313 2 3 0
C 1314 2 2 0
C 1327 2 6 0
C 1408 2 1 0
C 1316 2 4 0
I 1398 virtex2p:OR2 1 820 515 0 1 '
C 1411 1 10 0
C 1399 2 9 0
C 1400 1 7 0
N 1410
J 940 525 2
J 890 525 1
S 2 1
L 895 525 10 0 3 0 1 0 CMD_DONE
I 1402 virtex:AND2 1 940 505 0 1 '
C 1410 1 19 0
C 1411 2 18 0
C 1412 3 20 0
N 1187
J 810 460 2
J 800 460 3
J 790 500 2
J 800 500 3
S 2 1
S 2 4
S 3 4
L 785 500 10 0 3 0 1 0 BOARD_ACC
N 1159
J 1365 720 2
J 1310 720 1
S 2 1
L 1320 720 10 0 3 0 1 0 ADRS12
N 1156
J 1310 660 1
J 1365 660 2
S 1 2
L 1320 660 10 0 3 0 1 0 ADRS15
N 1347
J 35 700 1
J 90 700 2
S 1 2
L 45 700 10 0 3 0 1 0 ADRS12
N 1344
J 90 640 2
J 35 640 1
S 2 1
L 45 640 10 0 3 0 1 0 ADRS15
N 1350
J 35 400 1
J 90 400 2
S 1 2
L 45 400 10 0 3 0 1 1 ADRSHIGH
N 1071
J 115 1045 2
J 60 1045 1
S 2 1
L 70 1045 10 0 3 0 1 0 ADRS17
N 1072
J 60 1025 1
J 115 1025 2
S 1 2
L 70 1025 10 0 3 0 1 0 ADRS16
N 1070
J 60 1065 1
J 115 1065 2
S 1 2
L 70 1065 10 0 3 0 1 0 ADRS18
T 220 125 14 0 6 N/A
Q 13 0 0
T 635 20 20 0 3 DDU VME Controller Logic
Q 11 0 0
T 1295 30 25 0 3 2A
Q 11 0 0
T 1540 30 25 0 3 D785B
Q 11 0 0
l 2 275 115 275 290
Q 13 0 0
T 1149 30 25 0 3 JRG
Q 11 0 0
T 445 1010 30 0 3 Device:  ADR[15:12] sets device ID
Q 14 0 0
T 700 855 40 0 8 {
Q 14 0 0
T 700 835 20 0 3 ADR[5:2]=serial command (req'd for dev 4 only)
Q 14 0 0
T 415 365 20 0 3 VME-Parallel Device code (all 16-bit data):
Q 11 0 0
T 1180 1050 20 0 3 VME-Serial Device code:
l 2 400 90 400 390
Q 11 0 0
l 2 400 390 830 390
Q 11 0 0
l 2 1055 205 1650 205
Q 11 0 0
T 700 855 20 0 3 ADR[11:6]=Not Used
Q 14 0 0
T 680 855 20 0 8 COMMAND[9:0]
Q 14 0 0
T 405 940 20 0 9 Path IR bit length
Q 13 0 0
T 40 940 20 0 3 VME-JTAG Device code:
Q 13 0 0
T 335 270 20 0 6 FPGA
Q 13 0 0
T 335 250 20 0 6 Virtex2Pro
Q 13 0 0
T 25 205 20 0 3 Device Bypass
Q 13 0 0
l 2 25 965 410 965
Q 13 0 0
l 2 20 230 390 230
Q 13 0 0
l 2 410 665 410 965
Q 13 0 0
T 35 240 24 0 3 IR Codes
Q 13 0 0
T 220 270 20 0 6 PROM
Q 13 0 0
T 220 205 14 0 6 11111111
Q 13 0 0
l 2 165 115 165 290
Q 13 0 0
T 220 250 20 0 6 XC18V04
Q 13 0 0
T 155 265 24 0 9 Boundary Scan
Q 13 0 0
T 15 75 24 0 3 For bigger V2P's add 1's to the left
Q 13 0 0
T 335 205 14 0 6 1111111111
Q 13 0 0
T 335 235 14 0 6 10-bit  IR
Q 13 0 0
T 220 235 14 0 6 8-bit  IR
Q 13 0 0
T 60 925 15 0 3 00 ||
Q 13 0 0
T 60 895 15 0 3 02 || VME_Ctrl PROM  (all PROMs=XC18V04)
Q 13 0 0
T 380 895 15 0 6 8
Q 13 0 0
T 380 880 15 0 6 8+8
Q 13 0 0
T 60 805 15 0 3 08 || Input FIFOs 0-3
Q 13 0 0
T 380 865 15 0 6 8+8
Q 13 0 0
T 60 835 15 0 3 06 || InCtrl FPGA 0  (V2P20)
Q 13 0 0
T 60 820 15 0 3 07 || InCtrl FPGA 1  (V2P20)
Q 13 0 0
T 380 835 15 0 6 14
Q 13 0 0
T 380 820 15 0 6 14
Q 13 0 0
T 60 850 15 0 3 05 || DDU_Ctrl FPGA (V2P7)
Q 13 0 0
T 380 850 15 0 6 10
Q 13 0 0
T 525 875 30 0 3 ADR[18:16]=100b for VME-Serial
Q 14 0 0
T 60 880 15 0 3 03 || DDU_Ctrl PROMs 1 & 0
Q 13 0 0
T 60 865 15 0 3 04 || InCtrl PROMs 1 & 0
Q 13 0 0
T 60 765 15 0 3 0F || Emergency PROM Programming via VME
Q 13 0 0
T 380 765 15 0 6 8
Q 13 0 0
T 380 910 15 0 6 4
Q 13 0 0
T 60 910 15 0 3 01 || Output FIFO    **FIX**
Q 13 0 0
T 1645 25 25 0 7 3B
Q 11 0 0
T 635 40 20 0 3 VME-Read Command Decoder
Q 11 0 0
T 635 0 20 0 3 CMS CSC Electronics
Q 11 0 0
l 2 1055 205 830 390
Q 11 0 0
T 1275 890 14 0 3 0D: Program page 5 (GBE offsets) [34 bit data]
Q 14 0 0
T 1275 920 14 0 3 09: Program page 1 (Kill Ch.) [16 bit data]
Q 14 0 0
T 1140 1045 30 0 9 ADR[1:0]=Not Used
Q 14 0 0
T 445 1045 30 0 3 Slot Selection:  ADR[23:19]
Q 14 0 0
T 1145 910 24 0 9 slot[23-19]typ[18-16]dev[15-12]bitcnt[11-8]cmd[7-2]res[1-0]
Q 14 0 0
T 1150 715 24 0 9 slot[23-19]typ[18-16]dev[15-12]free[11-10]cmd[9-2]res[1-0]
Q 14 0 0
T 1150 810 24 0 9 slot[23-19]typ[18-16]dev[15-12]free[11-6]cmd[5-2]res[1-0]
Q 14 0 0
T 525 760 30 0 3 ADR[18:16]=011b for VME-Parallel
Q 14 0 0
T 555 740 20 0 3 Dev<8: Read Only, no CMD req'd.   Dev>=8 needs CMD, CMD>=128 is
+  Write
Q 14 0 0
T 555 790 20 0 3 Dev>=8: Write Only.   Dev=4 needs CMD, CMD>=9 is Write.  Otherw
+ ise Read
Q 14 0 0
T 445 975 30 0 3 Type:  ADR[18:16]=000b for VME-JTAG
Q 14 0 0
T 1200 970 15 0 3 04 || Flash SRAM (RdStat or Program Page), NEEDS COMMAND
T 1200 855 15 0 3 0C || Load GBE Output FIFO (SEN=LD, set HI during MRST)--N/A
T 1200 840 15 0 3 0D || Load DDU_Ctrl FPGA (Kill DMB Fiber Ch.)--N/A
T 1200 825 15 0 3 0E || Load DDU_Ctrl FPGA (Board ID)--N/A
T 1275 935 14 0 3 00: Read Status Register [8-bit data]
Q 14 0 0
T 1270 935 14 0 9 0x
Q 14 0 0
T 1240 950 15 0 3 ---> command required with device 4:
Q 14 0 0
T 700 935 20 0 3 ADR[7:2]=JTAG command
Q 14 0 0
T 700 955 40 0 8 {
Q 14 0 0
T 680 955 20 0 8 COMMAND[9:0]
Q 14 0 0
T 700 955 20 0 3 ADR[11:8]=bit count
Q 14 0 0
T 380 805 15 0 6 4+4+4+4
Q 13 0 0
T 380 790 15 0 6 N/A
Q 13 0 0
T 60 790 15 0 3 09 || Serial ADC (...not JTAG...)
Q 13 0 0
T 305 520 20 0 3 <<---VME-DDU Parallel
Q 11 0 0
T 305 435 20 0 3 <<---VME-DDU Serial ADC
Q 11 0 0
T 25 185 20 0 3 User Code
Q 13 0 0
T 220 185 14 0 6 11111101
Q 13 0 0
T 335 185 14 0 6 1111001000
Q 13 0 0
T 25 165 20 0 3 ID Code
Q 13 0 0
T 220 165 14 0 6 11111110
Q 13 0 0
T 335 165 14 0 6 1111001001
Q 13 0 0
T 25 145 20 0 3 User1
Q 13 0 0
T 220 145 14 0 6 N/A
Q 13 0 0
T 335 145 14 0 6 03C2h=1111000010
Q 13 0 0
T 25 125 20 0 3 User2
Q 13 0 0
T 335 125 14 0 6 03C3h=1111000011
Q 13 0 0
T 450 300 15 0 3 3: R; CSCs w/Error, need HardReset
Q 11 0 0
T 450 315 15 0 3 2: R; CSCs w/Lost Sync, need SyncReset
Q 11 0 0
T 790 200 18 0 3 Typical VME-JTAG sequence:
Q 10 1 0
T 820 185 14 0 3 1st VME Data: send IR (10-bit)  "User1"
T 820 155 14 0 3 3rd VME Data: send IR (10-bit)  "User2"
T 820 140 14 0 3 4th VME Data: send User2 DR (16-bit)
T 835 125 14 0 3 ^^^repeat this as needed for all data bits^^^
T 820 110 14 0 3 5th VME Data: send IR (10-bit)  "User1"
T 820 95 14 0 3 6th VME Data: set User1 DR (8-bit)  "No-Op"
T 820 80 14 0 3 7th VME Data: send IR (10-bit)  "Bypass"
T 820 170 14 0 3 2nd VME Data: set User1 DR (8-bit)  "Select Function"
T 450 285 15 0 3 4: R; Quick summary of all boards that require a Reset
Q 11 0 0
T 450 345 15 0 3 0: R; BUSY State (i.e. NotREADY) 15=DDU, 14-0=DMB[14:0]
Q 11 0 0
T 450 330 15 0 3 1: R; CSCs w/Warning-NearFULL
Q 11 0 0
T 450 270 15 0 3 5: R; CSCs w/Warning-NearFULL History
Q 11 0 0
T 450 255 15 0 3 6: R; CSCs BUSY History
Q 11 0 0
T 450 235 15 0 3 8: R/W; VMEser Input Shift Registers  (shifting is a separate V
+ MEser command)
Q 11 0 0
T 465 220 15 0 3 ---> command required with device 8:
Q 14 0 0
T 495 205 14 0 9 0x
Q 14 0 0
T 495 145 14 0 9 0x
Q 14 0 0
T 420 395 15 0 3 9: R/W; S-LinkWaitEnable/GbE Prescale Selection
Q 11 0 0
T 500 145 14 0 3 00/80: R/W S-LinkWaitEnable & GbE Prescale [16-bit data]
Q 14 0 0
T 500 130 14 0 3 05/85: R/W Fake L1 Register (Data Passthrough) [16-bit data]
Q 14 0 0
T 500 115 14 0 3 0F/8F: R/W FMM Test Register [16-bit data]
Q 14 0 0
T 450 80 15 0 3 14: R; bits 15-8="CAh", 7-0=ModeSwitch[7:0]
Q 11 0 0
T 450 160 15 0 3 9: R/W; command required to specify register
Q 11 0 0
T 755 230 12 0 2 Note pipelined registers 0 --> 1 --> 2
Q 14 3 0
T 500 190 14 0 3 00-02: Read Input Register 0-2 [16-bit data]
Q 14 0 0
T 500 175 14 0 3 03-07: Read Only RstTestReg 0-4 [16-bit data]
Q 14 0 0
l 2 665 220 755 230
Q 14 0 0
T 500 205 14 0 3 80: Write Input Register 0 [16-bit data]
Q 14 0 0
l 2 1170 765 1170 1075
l 2 1170 1075 1660 1075
b 435 705 1160 1085
Q 14 0 0
T 1275 905 14 0 3 xx 0C: Program page 4 (DDR offsets) [32 bit data] xx
Q 14 0 0
T 1275 875 14 0 3 0F: Program page 7 (Board ID) [16 bit data]
Q 14 0 0
T 450 65 15 0 3 15: R; VMEfpga Status bits (VMErdy, FMM, Geog/Slot Adr)
Q 11 0 0
T 305 500 20 0 3 <<---VME-DDU Serial
Q 11 0 0
T 1385 1040 20 0 3 "iadr" in scan.c
Q 11 0 0
U 1350 0 20 0 9 3 @DATETIME=3-8-2007_13:14
U 1530 0 20 0 9 3 @NAME=COMMAND
U 1550 0 20 0 3 3 @SHEET=2
N 1264
J 810 440 2
J 790 440 2
S 2 1
L 775 440 10 0 3 0 1 0 VME_SEN-3
N 1385
J 470 565 1
J 520 565 2
S 1 2
L 475 565 10 0 3 0 1 0 VME_SEN-3
N 1415
J 890 450 2
J 905 450 3
J 915 425 2
J 905 425 3
S 1 2
L 875 450 10 0 3 0 1 0 VME_SEN-2
S 4 2
S 4 3
N 1327
J 1130 475 2
J 1185 475 2
S 1 2
L 1115 475 10 0 3 0 1 0 VME_SEN_RST
N 1224
J 1280 300 1
J 1310 300 2
S 1 2
L 1290 300 10 0 3 0 1 0 MIDCLK
I 1246 virtex:FDC 1 1310 260 0 1 '
C 1224 2 3 0
C 1253 2 6 0
C 1307 2 1 0
C 1235 1 4 0
N 1322
J 870 355 1
J 915 355 2
S 1 2
L 875 355 10 0 3 0 1 0 VME_SEN_RST
N 1209
J 1185 425 2
J 1205 425 3
J 1215 370 2
J 1205 370 3
S 1 2
L 1175 425 10 0 3 0 1 0 VME_SEN
S 4 2
S 4 3
I 1424 virtex:FDC 1 1065 345 0 1 '
C 1209 1 4 0
C 1427 2 1 0
C 1426 1 6 0
C 1425 1 3 0
N 1427
J 1035 425 2
J 1065 425 2
S 1 2
L 1025 425 10 0 3 0 1 0 VME_SEN-1
I 1323 virtex2p:FDCE 1 915 345 0 1 '
C 1427 1 4 0
C 1415 3 1 0
C 1322 2 6 0
C 1260 1 2 0
C 1189 1 3 0
I 1414 virtex:AND2 1 810 420 0 1 '
C 1415 1 20 0
C 1187 1 18 0
C 1264 1 19 0
I 1263 virtex2p:AND3B2 1 710 400 0 1 '
C 1264 2 7 0
C 1184 2 1 0
C 1185 1 2 0
C 1186 2 3 0
I 1203 virtex2p:AND3 1 710 460 0 1 '
C 1187 3 7 0
C 1200 1 1 0
C 1201 2 2 0
C 1202 1 3 0
N 1412
J 1050 485 2
J 1035 485 3
J 1020 535 2
J 1035 535 3
S 2 1
S 2 4
S 3 4
L 1015 535 10 0 3 0 1 0 POST-OP
I 1406 virtex2p:OR2 1 1050 445 0 1 '
C 1407 1 7 0
C 1412 1 9 0
C 1327 1 10 0
N 1365
J 1250 135 2
J 1210 135 2
S 2 1
L 1200 135 10 0 3 0 1 0 VME_PEN-3
N 1357
J 1330 145 2
J 1370 145 2
S 1 2
L 1330 145 10 0 3 0 1 0 VME_PEN-2
E
